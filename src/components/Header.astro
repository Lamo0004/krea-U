---
import Button from "./Button.astro";
import Link from "./Link.astro";
---

<header class="w-screen flex justify-between lg:justify-center items-center bg-primary-200 fixed z-50 p-6">

  <!-- Desktop menu -->
  <nav class="hidden lg:flex flex-1 gap-8 justify-center items-center uppercase">
    <Link href="/">Koncept</Link>
    
    <div class="relative group">
  <a href="/" class="cursor-pointer flex items-center">
    Vores værksteder
    <svg class="ml-1 w-3 h-3 transition-transform duration-200 group-hover:rotate-180" fill="none" stroke="currentColor" viewBox="0 0 24 24">
      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" />
    </svg>
  </a>

  <div class="absolute top-15 w-screen left-0 bg-primary-300 invisible group-hover:visible transition-all duration-200 z-50 py-space-400">
    <div class="flex flex-col">
    <a href="/" class="p-space-050">Keramikværkstedet</a>
    <a href="/" class="p-space-050">Smykkeværkstedet</a>
    <a href="/" class="p-space-050">Events</a>
    </div>
  </div>
</div>

    <a href="/">Hjemme-krea</a>
    <a href="/"><img src="/logo_sort.png" alt="Krea-U logo" class="h-12" /></a>
    <a href="/">Priser</a>
    <a href="/">Praktisk</a>
    <a href="/">Gavekort</a>
  </nav>

<!-- Knap -->
  <Button>
    <a href="https://book.easytable.com/book/?id=35dca">Book bord</a>
  </Button>

  <!-- Logo på desktop -->
  <a href="/" class="lg:hidden">
    <img src="/logo_sort.png" alt="Krea-U logo" class="h-12" />
  </a>

<!-- Burger-ikon -->
  <button id="burger" class="lg:hidden relative z-50">
    <span class="block w-6 h-0.5 bg-grey-scale-950 mb-1 transition-transform duration-300"></span>
    <span class="block w-6 h-0.5 bg-grey-scale-950 mb-1 transition-opacity duration-300"></span>
    <span class="block w-6 h-0.5 bg-grey-scale-950 transition-transform duration-300"></span>
  </button>

</header>

<!-- Burger-menu overlay -->
<nav id="mobileMenu" class="fixed top-0 right-0 w-screen h-screen bg-primary-200 flex flex-col items-center pt-[200px] space-y-6 transform translate-x-full transition-transform duration-300 lg:hidden z-40 uppercase">
  <a href="/">Koncept</a>
  <details class="w-full group">
  <summary class="flex items-center justify-center">
    <a href="/vores-vaerksteder">Vores værksteder</a>
    <svg class="ml-2 w-3 h-3 transition-transform duration-200 group-open:rotate-180" fill="none" stroke="currentColor" viewBox="0 0 24 24">
      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" />
    </svg>
  </summary>

  <div class="flex flex-col items-center">
    <a href="/keramikvaerkstedet" class="py-1">Keramikværkstedet</a>
    <a href="/smykkevaerkstedet" class="py-1">Smykkeværkstedet</a>
    <a href="/events" class="py-1">Events</a>
  </div>
</details>
  <a href="/">Hjemme-krea</a>
  <a href="/">Priser</a>
  <a href="/">Praktisk</a>
  <a href="/">Gavekort</a>
</nav>

<script>
  const burger = document.getElementById('burger');
  const mobileMenu = document.getElementById('mobileMenu');
  const [line1, line2, line3] = burger.querySelectorAll('span');

  burger.addEventListener('click', () => {
    mobileMenu.classList.toggle('translate-x-full'); // glide ind/ud fra højre

    // Burger → kryds animation
    line1.classList.toggle('rotate-45');
    line1.classList.toggle('translate-y-2'); 
    line2.classList.toggle('opacity-0');
    line3.classList.toggle('-rotate-45');
    line3.classList.toggle('-translate-y-1');
  });
</script>