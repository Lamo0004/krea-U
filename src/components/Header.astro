---
import Button from "./Button.astro";
import NavigationLink from "./NavigationLink.astro";
---

<header class="w-full flex justify-between items-center bg-primary-200 fixed z-50 p-space-300">

  <!-- Spacer venstre (kun desktop) -->
  <div class="hidden xl:block w-[100px]"></div>


  <!-- Desktop menu -->
  <nav class="hidden xl:flex gap-4 xl:gap-8 justify-center items-end uppercase">
    <NavigationLink href="/koncept">Koncept</NavigationLink>
    
    <div class="group relative">
  <NavigationLink size="l" href="/vores_verksteder" class="cursor-pointer flex items-center">
    <div class="flex items-center">
    Vores værksteder
    <svg class="ml-1 w-3 h-3 transition-transform duration-200 group-hover:rotate-180" fill="none" stroke="currentColor" viewBox="0 0 24 24">
      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" />
    </svg>
    </div>
</NavigationLink>

 <div class="fixed left-0 right-0 top-[98px] bg-primary-300 invisible group-hover:visible transition-all duration-200 z-40 py-space-400">
    <div class="flex flex-col">
    <a href="/keramikværksted" class="py-space-250 px-space-3200 font-raleway text-body-m text-grey-scale-950 hover:font-bold">Keramikværkstedet</a>
    <a href="/smykkeværksted" class="py-space-250 px-space-3200 font-raleway text-body-m text-grey-scale-950 hover:font-bold">Smykkeværkstedet</a>
    <a href="/events" class="py-space-250 px-space-3200 font-raleway text-body-m text-grey-scale-950 hover:font-bold">Events</a>
    </div>
  </div>
</div>

    <NavigationLink size="l" href="/hjemme_krea">Hjemme-krea</NavigationLink>
    <a href="/"><img src="../logo_sort.png" alt="Krea-U logo" class="w-30 h-auto" /></a>
    <NavigationLink size="l" href="/priser">Priser</NavigationLink>
    <NavigationLink size="l" href="/praktisk">Praktisk</NavigationLink>
    <NavigationLink size="l" href="/gavekort">Gavekort</NavigationLink>
  </nav>

<!-- Knap -->
  <Button href="https://book.easytable.com/book/?id=35dca" target="_blank">Book bord</Button>

  <!-- Logo på mobil -->
  <a href="/" class="xl:hidden">
    <img src="../logo_sort.png" alt="Krea-U logo" class="w-25 h-auto md:w-35" />
  </a>

<!-- Burger-ikon -->
  <button id="burger" class="xl:hidden relative z-50 w-[140px] h-[40px] md:w-[180px] md:h-[50px]">
    <div class="flex flex-col justify-self-end">
    <span class="block w-6 h-0.5 bg-grey-scale-950 mb-1 transition-transform duration-300"></span>
    <span class="block w-6 h-0.5 bg-grey-scale-950 mb-1 transition-opacity duration-300"></span>
    <span class="block w-6 h-0.5 bg-grey-scale-950 transition-transform duration-300"></span>
    </div>
  </button>

</header>

<!-- Burger-menu overlay -->
<nav id="mobileMenu" class="fixed top-0 right-0 w-full h-full bg-primary-200 flex flex-col items-center pt-[200px] space-y-6 transform translate-x-full transition-transform duration-300 xl:hidden z-40 uppercase">
  <a href="/koncept" class="font-raleway text-body-xl text-grey-scale-950">Koncept</a>
  <details class="w-full group">
  <summary class="flex items-center justify-center font-raleway text-body-xl text-grey-scale-950">
    <a href="/vores_verksteder">Vores værksteder</a>
    <svg class="ml-2 w-5 h-5 transition-transform duration-200 group-open:rotate-180" fill="none" stroke="currentColor" viewBox="0 0 24 24">
      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" />
    </svg>
  </summary>

  <div class="flex flex-col items-center">
    <a href="/keramikværksted" class="py-3 font-raleway text-body-l text-grey-scale-600">Keramikværkstedet</a>
    <a href="/smykkeværksted" class="py-3 font-raleway text-body-l text-grey-scale-600">Smykkeværkstedet</a>
    <a href="/events" class="py-3 font-raleway text-body-l text-grey-scale-600">Events</a>
  </div>
</details>
  <a href="/hjemme_krea" class="font-raleway text-body-xl text-grey-scale-950">Hjemme-krea</a>
  <a href="/priser" class="font-raleway text-body-xl text-grey-scale-950">Priser</a>
  <a href="/praktisk" class="font-raleway text-body-xl text-grey-scale-950">Praktisk</a>
  <a href="/gavekort" class="font-raleway text-body-xl text-grey-scale-950">Gavekort</a>
</nav>

<script>
  const burger = document.getElementById('burger');
  const mobileMenu = document.getElementById('mobileMenu');
  const [line1, line2, line3] = burger.querySelectorAll('span');

  burger.addEventListener('click', () => {
    mobileMenu.classList.toggle('translate-x-full'); // glide ind/ud fra højre

    // Burger → kryds animation
    line1.classList.toggle('rotate-45');
    line1.classList.toggle('translate-y-2'); 
    line2.classList.toggle('opacity-0');
    line3.classList.toggle('-rotate-45');
    line3.classList.toggle('-translate-y-1');
  });
</script>